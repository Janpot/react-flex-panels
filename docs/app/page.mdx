import Link from "next/link";
import { DemoSection } from "../components/DemoSection";
import NestedDemo from "./nested/demo/NestedDemo";
import nestedSrc from "!!raw-loader!./nested/demo/NestedDemo.tsx";
import nestedCss from "!!raw-loader!./nested/demo/NestedDemo.css";

# React Flex Panels

A React component library for creating resizable panel layouts. Like [`react-resizable-panels`](https://github.com/bvaughn/react-resizable-panels), but with more freedom in defining sizes, and SSR capable.

<DemoSection
  demo={<NestedDemo />}
  tsSource={nestedSrc}
  cssSource={nestedCss}
  hideCode
/>

## How is this different from `react-resizable-panels`?

| Feature                    |                                                        react-flex-panels                                                         |                                                           react-resizable-panels                                                           |
| -------------------------- | :------------------------------------------------------------------------------------------------------------------------------: | :----------------------------------------------------------------------------------------------------------------------------------------: |
| **Percentage-based Sizes** |                                                                ‚úÖ                                                                |                                                                     ‚úÖ                                                                     |
| **Fixed Sizes**            |                                                        ‚úÖ any CSS length                                                         |                                                                     ‚ùå                                                                     |
| **CSS-defined Sizes**      |                                                     ‚úÖ Through CSS variables                                                     |                                                                     ‚ùå                                                                     |
| **Persistence**            |                                                                ‚úÖ                                                                |                                                                     ‚úÖ                                                                     |
| **SSR Support**            |                                                           ‚úÖ Built-in                                                            |                                                       ‚ö†Ô∏è Externally, through cookie                                                        |
| **Nested Layouts**         |                                                                ‚úÖ                                                                |                                                                     ‚úÖ                                                                     |
| **Mouse**                  |                                                                ‚úÖ                                                                |                                                                     ‚úÖ                                                                     |
| **Keyboard**               |                                                                ‚úÖ                                                                |                                                                     ‚úÖ                                                                     |
| **Touch**                  |                                                            üïí Planned                                                            |                                                                     ‚úÖ                                                                     |
| **Accessibility**          |                                                            üïí Planned                                                            |                                                                     ‚úÖ                                                                     |
| **Imperative API**         |                                                            üïí Planned                                                            |                                                                     ‚úÖ                                                                     |
| **Collapsible Panels**     |                                                            üïí Planned                                                            |                                                                     ‚úÖ                                                                     |
| **Conditional Rendering**  |                                                            üïí Planned                                                            |                                                                     ‚úÖ                                                                     |
| **Bundle Size**            | [![Bundle Js react-flex-panels](https://deno.bundlejs.com/badge?q=react-flex-panels)](https://bundlejs.com/?q=react-flex-panels) | [![Bundle Js react-flex-panels](https://deno.bundlejs.com/badge?q=react-resizable-panels)](https://bundlejs.com/?q=react-resizable-panels) |

## How does it work?

Sizes are assigned to real dom elements. During layout phase the sizes are extracted from the DOM and used to calculate the new layout. Extra care is taken that initial layout can be fully handled by CSS.

Seamless SSR with sizes from localstorage is achieved by using a CSS variable for each panel size on the panel group. A script can then read those from localstorage and set the variables before te panels are rendered.

## Installation

```bash
npm install react-flex-panels
```

## Basic Usage

Import the Panel component and the CSS styles:

```tsx
import { Panel, Resizer } from "react-flex-panels";
import "react-flex-panels/styles.css";
```

## Panel Properties

The Panel component provides a simple API for flexbox layouts:

- **`group`** - Makes the panel a flex container (enables flexbox layout)
- **`direction`** - Sets flex direction: `'row'` | `'column'` | `'row-reverse'` | `'column-reverse'` (default: `'row'`)
- **`initialSize`** - Sets the flex-basis (fixed size, accepts any CSS size value)
- **`minSize`** - Sets the minimum size (respects parent's flex direction: min-width for rows, min-height for columns)
- **`maxSize`** - Sets the maximum size (respects parent's flex direction: max-width for rows, max-height for columns)

### CSS Size Values

The `initialSize`, `minSize`, and `maxSize` props accept any valid CSS size value:

```tsx
// Pixels
<Panel initialSize="300px" minSize="100px" maxSize="500px">

// Percentages
<Panel initialSize="25%" minSize="10%" maxSize="50%">

// CSS calc() function
<Panel initialSize="calc(100vh - 200px)" minSize="calc(50% - 10px)">

// CSS custom properties
<Panel initialSize="var(--sidebar-width)" minSize="var(--min-width)">

// Viewport units
<Panel initialSize="30vw" maxSize="80vh">
```

### Automatic Flex Behavior

Panels automatically handle flex-grow and flex-shrink based on whether they have an `initialSize` prop:

- **Panels with `initialSize`** - Have fixed dimensions (flex-grow: 0, flex-shrink: 0)
- **Panels without `initialSize`** - Automatically grow and shrink to fill available space (flex-grow: 1, flex-shrink: 1)

## Resizer Properties

- **`className`** - Additional CSS classes
- **`style`** - Inline styles
