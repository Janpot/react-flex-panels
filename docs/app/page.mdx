import Link from "next/link";
import { DemoSection } from "../components/DemoSection";
import NestedDemo from "./nested/demo/NestedDemo";
import nestedSrc from "./nested/demo/NestedDemo.tsx?raw";
import nestedCss from "./nested/demo/NestedDemo.css?raw";

# React Flex Panels

A React component library for creating resizable panel layouts. Like [`react-resizable-panels`](https://github.com/bvaughn/react-resizable-panels), but with more freedom in defining sizes, and SSR capable.

<DemoSection
  demo={<NestedDemo />}
  tsSource={nestedSrc}
  cssSource={nestedCss}
  hideCode
/>

## How is this different from `react-resizable-panels`?

- Sizes in `react-resizable-panels` are exclusively defined as percentages. `react-flex-panels` allows any CSS size value (pixels, percentages, viewport units, calc(), custom properties).
- `react-flex-panels` supports server-side rendering for persistent layouts, without a flash of default layout during hydration.
- Panels can be panel groups thenselves, allowing for nested layouts without extra DOM.
- `react-flex-panels` is new and experimental and not battle tested at all unlike `react-resizable-panels`, which is more mature and widely used.
- `react-flex-panels` does not yet support:
  - Collapsible panels
  - Imperative handle

## Installation

```bash
npm install react-flex-panels
```

## Basic Usage

Import the Panel component and the CSS styles:

```tsx
import { Panel, Resizer } from "react-flex-panels";
import "react-flex-panels/styles.css";
```

## Panel Properties

The Panel component provides a simple API for flexbox layouts:

- **`group`** - Makes the panel a flex container (enables flexbox layout)
- **`direction`** - Sets flex direction: `'row'` | `'column'` | `'row-reverse'` | `'column-reverse'` (default: `'row'`)
- **`initialSize`** - Sets the flex-basis (fixed size, accepts any CSS size value)
- **`minSize`** - Sets the minimum size (respects parent's flex direction: min-width for rows, min-height for columns)
- **`maxSize`** - Sets the maximum size (respects parent's flex direction: max-width for rows, max-height for columns)

### CSS Size Values

The `initialSize`, `minSize`, and `maxSize` props accept any valid CSS size value:

```tsx
// Pixels
<Panel initialSize="300px" minSize="100px" maxSize="500px">

// Percentages
<Panel initialSize="25%" minSize="10%" maxSize="50%">

// CSS calc() function
<Panel initialSize="calc(100vh - 200px)" minSize="calc(50% - 10px)">

// CSS custom properties
<Panel initialSize="var(--sidebar-width)" minSize="var(--min-width)">

// Viewport units
<Panel initialSize="30vw" maxSize="80vh">
```

### Automatic Flex Behavior

Panels automatically handle flex-grow and flex-shrink based on whether they have an `initialSize` prop:

- **Panels with `initialSize`** - Have fixed dimensions (flex-grow: 0, flex-shrink: 0)
- **Panels without `initialSize`** - Automatically grow and shrink to fill available space (flex-grow: 1, flex-shrink: 1)

## Resizer Properties

- **`className`** - Additional CSS classes
- **`style`** - Inline styles
